<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Wellness for Indian Youth</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .toast {
            animation: fadeInOut 3s forwards;
        }
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(20px); }
            10% { opacity: 1; transform: translateY(0); }
            90% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(20px); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-green-50 to-indigo-50 min-h-screen text-gray-800">
    
    <!-- Navbar -->
    <nav class="fixed top-0 left-0 right-0 z-40 bg-white bg-opacity-90 backdrop-blur-md shadow-lg p-4 transition-all duration-300">
        <div class="container mx-auto flex justify-between items-center">
            <a href="#" class="text-lg sm:text-xl font-bold text-blue-800">Wellness App</a>
            <div class="flex items-center space-x-4 sm:space-x-6">
                <a id="nav-home" href="#" class="text-sm sm:text-base font-semibold text-gray-600 hover:text-blue-500 transition-colors">Home</a>
                <a id="nav-chat" href="#chat-section" class="text-sm sm:text-base font-semibold text-gray-600 hover:text-blue-500 transition-colors">AI Chat</a>
                <a id="nav-resources" href="#resource-cards" class="text-sm sm:text-base font-semibold text-gray-600 hover:text-blue-500 transition-colors">Resources</a>
                <a id="nav-insights" href="#insights-title" class="text-sm sm:text-base font-semibold text-gray-600 hover:text-blue-500 transition-colors">Insights</a>
                <a id="nav-community" href="#community-title" class="text-sm sm:text-base font-semibold text-gray-600 hover:text-blue-500 transition-colors">Community</a>
            </div>
            <select id="language-select" class="p-2 rounded-lg bg-white border border-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all shadow-sm ml-4">
                <option value="en">English</option>
                <option value="hi">हिंदी</option>
                <option value="pa">ਪੰਜਾਬੀ</option>
                <option value="ta">தமிழ்</option>
                <option value="bn">বাংলা</option>
            </select>
        </div>
    </nav>

    <div id="app" class="container mx-auto p-4 sm:p-8 mt-24">

        <!-- Main Content View -->
        <div id="main-view">
            <!-- Hero Section -->
            <section class="flex flex-col md:flex-row items-center justify-between bg-white rounded-3xl p-6 sm:p-12 mb-12 shadow-xl">
                <div class="md:w-1/2 text-center md:text-left mb-6 md:mb-0">
                    <h1 id="hero-title" class="text-3xl sm:text-4xl md:text-5xl font-bold leading-tight text-blue-800">
                        Promoting Mental Wellness for Indian Youth
                    </h1>
                    <p id="hero-subtitle" class="mt-4 text-md sm:text-lg text-gray-600">
                        A safe space to talk, learn, and grow.
                    </p>
                    <button id="start-conversation" class="mt-8 px-6 py-3 bg-blue-500 text-white font-semibold rounded-full shadow-lg hover:bg-blue-600 transition-all transform hover:scale-105">
                        Start a conversation
                    </button>
                </div>
                <div class="md:w-1/2 flex justify-center">
                    <div class="w-full max-w-sm h-64 sm:h-80 bg-blue-100 rounded-2xl flex items-center justify-center text-gray-500 border-2 border-dashed border-blue-200">
                        <span class="text-center p-4">Culturally Relevant Illustration or Animation</span>
                    </div>
                </div>
            </section>

            <!-- AI Chat/Support Section -->
            <section id="chat-section" class="bg-white rounded-3xl p-6 sm:p-8 mb-12 shadow-xl">
                <h2 id="chat-title" class="text-2xl sm:text-3xl font-bold text-center mb-6 text-blue-800">AI Chat Support</h2>
                <div class="flex flex-col h-96 border border-gray-200 rounded-xl overflow-hidden shadow-inner">
                    <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4">
                        <!-- Initial AI message -->
                        <div class="flex justify-start">
                            <div class="max-w-[75%] p-4 rounded-xl bg-gray-100 text-gray-800 rounded-bl-none shadow-md">
                                Hello! I'm here to help. What's on your mind today?
                            </div>
                        </div>
                    </div>
                    <div class="p-4 bg-gray-50 border-t border-gray-200">
                        <div class="flex space-x-2">
                            <input id="chat-input" type="text" class="flex-1 p-3 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all text-sm" placeholder="Type your message...">
                            <button id="send-button" class="px-6 py-2 bg-blue-500 text-white font-semibold rounded-full shadow-lg hover:bg-blue-600 transition-all">
                                Send
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Resource Hub -->
            <section class="bg-white rounded-3xl p-6 sm:p-8 mb-12 shadow-xl">
                <h2 id="resources-title" class="text-2xl sm:text-3xl font-bold text-center mb-6 text-blue-800">Resource Hub</h2>
                <p id="resources-subtitle" class="text-center text-gray-600 mb-8">Articles, videos, and infographics to help you on your journey.</p>
                <div id="resource-cards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Resource cards will be populated by JS -->
                </div>
            </section>

            <!-- Personalized Insights Section -->
            <section class="bg-white rounded-3xl p-6 sm:p-8 mb-12 shadow-xl">
                <h2 id="insights-title" class="text-2xl sm:text-3xl font-bold text-center mb-6 text-blue-800">Personalized Insights</h2>
                <p id="insights-subtitle" class="text-center text-gray-600 mb-8">Log your mood and track your emotional state.</p>
                <div id="mood-buttons" class="flex flex-wrap justify-center gap-4">
                    <!-- Mood buttons will be populated by JS -->
                </div>
                <div id="playlist-container" class="mt-8 text-center" style="display: none;">
                    <div id="playlist-results" class="mt-6"></div>
                </div>
            </section>

            <!-- Community Section -->
            <section class="bg-white rounded-3xl p-6 sm:p-8 mb-12 shadow-xl">
                <h2 id="community-title" class="text-2xl sm:text-3xl font-bold text-center mb-6 text-blue-800">Community</h2>
                <div class="text-center p-8 bg-gray-100 rounded-2xl text-gray-600">
                    <p id="community-text" class="mb-4">
                        Join a supportive community. This section would feature anonymized discussion forums or group sessions.
                    </p>
                    <a id="explore-community" href="https://discord.gg/your-server-invite" target="_blank" rel="noopener noreferrer" class="px-6 py-3 bg-purple-500 text-white font-semibold rounded-full shadow-lg hover:bg-purple-600 transition-all transform hover:scale-105">
                        Explore Community
                    </a>
                </div>
            </section>
        </div>

        <!-- Resource View (Initially hidden) -->
        <div id="resource-view" class="hidden">
            <button id="back-button" class="px-4 py-2 mb-4 bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300 transition-colors">← Back to Resources</button>
            <div id="resource-content" class="bg-white rounded-3xl p-6 sm:p-8 shadow-xl">
                <!-- Content will be injected here -->
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm mt-12 p-4">
            <span id="footer-text">© 2024 Mental Wellness App. All rights reserved.</span>
        </footer>

        <!-- Custom Toast Message Container -->
        <div id="toast-container" class="fixed bottom-8 right-8 z-50"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const elements = {
                languageSelect: document.getElementById('language-select'),
                heroTitle: document.getElementById('hero-title'),
                heroSubtitle: document.getElementById('hero-subtitle'),
                startConversationButton: document.getElementById('start-conversation'),
                chatSection: document.getElementById('chat-section'),
                chatMessages: document.getElementById('chat-messages'),
                chatInput: document.getElementById('chat-input'),
                sendButton: document.getElementById('send-button'),
                resourcesTitle: document.getElementById('resources-title'),
                resourcesSubtitle: document.getElementById('resources-subtitle'),
                resourceCardsContainer: document.getElementById('resource-cards'),
                insightsTitle: document.getElementById('insights-title'),
                insightsSubtitle: document.getElementById('insights-subtitle'),
                moodButtonsContainer: document.getElementById('mood-buttons'),
                playlistContainer: document.getElementById('playlist-container'),
                playlistResults: document.getElementById('playlist-results'),
                communityTitle: document.getElementById('community-title'),
                communityText: document.getElementById('community-text'),
                exploreCommunityLink: document.getElementById('explore-community'),
                footerText: document.getElementById('footer-text'),
                toastContainer: document.getElementById('toast-container'),
                mainView: document.getElementById('main-view'),
                resourceView: document.getElementById('resource-view'),
                backButton: document.getElementById('back-button'),
                resourceContent: document.getElementById('resource-content'),
                navHome: document.getElementById('nav-home'),
                navChat: document.getElementById('nav-chat'),
                navResources: document.getElementById('nav-resources'),
                navInsights: document.getElementById('nav-insights'),
                navCommunity: document.getElementById('nav-community'),
            };

            const content = {
                en: {
                    navHome: 'Home',
                    navChat: 'AI Chat',
                    navResources: 'Resources',
                    navInsights: 'Insights',
                    navCommunity: 'Community',
                    heroTitle: 'Promoting Mental Wellness for Indian Youth',
                    heroSubtitle: 'A safe space to talk, learn, and grow.',
                    chatTitle: 'AI Chat Support',
                    chatPlaceholder: 'Type your message...',
                    sendButton: 'Send',
                    resourcesTitle: 'Resource Hub',
                    resourcesSubtitle: 'Articles, videos, and infographics to help you on your journey.',
                    insightsTitle: 'Personalized Insights',
                    insightsSubtitle: 'Log your mood and track your emotional state.',
                    communityTitle: 'Community',
                    communityText: 'Join a supportive community. This section would feature anonymized discussion forums or group sessions.',
                    exploreCommunity: 'Join our Discord Community',
                    footer: '© 2024 Mental Wellness App. All rights reserved.',
                    resources: [
                        { type: 'article', title: 'Managing Exam Stress', image: 'https://placehold.co/300x200/bde0fe/000000?text=Article', tags: ['Anxiety', 'Students'], content: `<h3 class="text-2xl font-bold mb-4">Managing Exam Stress</h3><p>Exam season can be tough, but remember you're not alone. Here are some tips to help you manage stress and stay focused: Plan a study schedule, take regular breaks, and get enough sleep. Staying hydrated and eating healthy meals also makes a big difference.</p><p class="mt-4">Most importantly, talk to someone you trust if you feel overwhelmed. Your well-being is more important than any grade.</p>` },
                        { type: 'video', title: 'The Importance of Sleep', image: 'https://placehold.co/300x200/c4d7b7/000000?text=Video', tags: ['Wellbeing', 'Habits'], content: `<div class="aspect-w-16 aspect-h-9"><iframe class="w-full aspect-video rounded-xl" src="https://www.youtube.com/embed/a-a2Wd700r0?si=63y2zG9Kj0B_o-3-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p class="mt-4">A good night's sleep is one of the most powerful tools for your mental health. This video explains how sleep affects your brain and mood, and why you should prioritize it.</p>` },
                        { type: 'infographic', title: 'Mindfulness for Beginners', image: 'https://placehold.co/300x200/cbb2d4/000000?text=Infographic', tags: ['Meditation', 'Stress'], content: `<div class="text-center"><img src="https://placehold.co/800x600/cbb2d4/000000?text=Infographic+on+Mindfulness" alt="Mindfulness Infographic" class="rounded-xl w-full max-w-xl mx-auto mb-4" /><p class="text-gray-600">Discover quick and practical steps to bring mindfulness into your daily routine. Just a few minutes a day can help you quiet your mind, reduce stress, and find a sense of inner calm. It's a simple way to stay centered amidst life's hustle.</p></div>` },
                        { type: 'article', title: 'Building Self-Confidence', image: 'https://placehold.co/300x200/ffe6b3/000000?text=Article', tags: ['Growth', 'Self-esteem'], content: `<h3 class="text-2xl font-bold mb-4">Building Self-Confidence</h3><p>Self-confidence is a journey, not a destination. Start by celebrating your small wins, no matter how tiny they seem. Practice positive self-talk and surround yourself with people who lift you up. Remember, you have unique strengths that no one else has.</p><p class="mt-4">Taking on new challenges, even if they're scary, is a great way to prove to yourself just how capable you are. Believe in yourself!</p>` },
                    ],
                    moods: {
                        'Joy': '😊', 'Calm': '😌', 'Sad': '😔', 'Anxious': '😬', 'Tired': '😴'
                    },
                    loadingMessage: 'I am thinking... Please wait a moment...',
                    playlistButtonText: 'Get a Mood Playlist 🎶',
                    playlistLoading: 'Generating your mood playlist...',
                },
                hi: {
                    navHome: 'होम',
                    navChat: 'एआई चैट',
                    navResources: 'संसाधन',
                    navInsights: 'अंतर्दृष्टि',
                    navCommunity: 'समुदाय',
                    heroTitle: 'भारतीय युवाओं के लिए मानसिक स्वास्थ्य को बढ़ावा देना',
                    heroSubtitle: 'बात करने, सीखने और बढ़ने के लिए एक सुरक्षित स्थान।',
                    chatTitle: 'एआई चैट सपोर्ट',
                    chatPlaceholder: 'अपना संदेश टाइप करें...',
                    sendButton: 'भेजें',
                    resourcesTitle: 'संसाधन केंद्र',
                    resourcesSubtitle: 'आपकी यात्रा में मदद करने के लिए लेख, वीडियो और इन्फोग्राफिक्स।',
                    insightsTitle: 'व्यक्तिगत अंतर्दृष्टि',
                    insightsSubtitle: 'अपना मूड लॉग करें और अपनी भावनात्मक स्थिति को ट्रैक करें।',
                    communityTitle: 'समुदाय',
                    communityText: 'एक सहायक समुदाय में शामिल हों। इस खंड में गुमनाम चर्चा मंच या समूह सत्र शामिल होंगे।',
                    exploreCommunity: 'हमारे डिस्कॉर्ड समुदाय में शामिल हों',
                    footer: '© 2024 मानसिक स्वास्थ्य ऐप। सर्वाधिकार सुरक्षित।',
                    resources: [
                        { type: 'article', title: 'परीक्षा के तनाव को संभालना', image: 'https://placehold.co/300x200/bde0fe/000000?text=Article', tags: ['चिंता', 'छात्र'], content: `<h3 class="text-2xl font-bold mb-4">परीक्षा के तनाव को संभालना</h3><p>परीक्षा का मौसम कठिन हो सकता है, लेकिन याद रखें आप अकेले नहीं हैं। तनाव को प्रबंधित करने और ध्यान केंद्रित रहने में आपकी मदद करने के लिए यहां कुछ युक्तियां दी गई हैं: एक अध्ययन कार्यक्रम की योजना बनाएं, नियमित ब्रेक लें और पर्याप्त नींद लें। हाइड्रेटेड रहना और स्वस्थ भोजन करना भी बहुत फर्क पड़ता है।</p><p class="mt-4">सबसे महत्वपूर्ण बात यह है कि यदि आप अभिभूत महसूस करते हैं तो किसी ऐसे व्यक्ति से बात करें जिस पर आप भरोसा करते हैं। आपकी भलाई किसी भी ग्रेड से ज्यादा महत्वपूर्ण है।</p>` },
                        { type: 'video', title: 'नींद का महत्व', image: 'https://placehold.co/300x200/c4d7b7/000000?text=Video', tags: ['स्वास्थ्य', 'आदतें'], content: `<div class="aspect-w-16 aspect-h-9"><iframe class="w-full aspect-video rounded-xl" src="https://www.youtube.com/embed/a-a2Wd700r0?si=63y2zG9Kj0B_o-3-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p class="mt-4">एक अच्छी रात की नींद आपके मानसिक स्वास्थ्य के लिए सबसे शक्तिशाली उपकरणों में से एक है। यह वीडियो बताता है कि नींद आपके मस्तिष्क और मनोदशा को कैसे प्रभावित करती है, और आपको इसे प्राथमिकता क्यों देनी चाहिए।</p>` },
                        { type: 'infographic', title: 'शुरुआती लोगों के लिए माइंडफुलनेस', image: 'https://placehold.co/300x200/cbb2d4/000000?text=Infographic', tags: ['ध्यान', 'तनाव'], content: `<div class="text-center"><img src="https://placehold.co/800x600/cbb2d4/000000?text=Infographic+on+Mindfulness" alt="Mindfulness Infographic" class="rounded-xl w-full max-w-xl mx-auto mb-4" /><p class="text-gray-600">अपने दैनिक जीवन में माइंडफुलनेस लाने के लिए त्वरित और व्यावहारिक कदम खोजें। एक दिन में बस कुछ मिनट आपको अपने दिमाग को शांत करने, तनाव कम करने और आंतरिक शांति की भावना खोजने में मदद कर सकते हैं। यह जीवन की भागदौड़ के बीच केंद्रित रहने का एक सरल तरीका है।</p></div>` },
                        { type: 'article', title: 'आत्मविश्वास का निर्माण', image: 'https://placehold.co/300x200/ffe6b3/000000?text=Article', tags: ['विकास', 'आत्मसम्मान'], content: `<h3 class="text-2xl font-bold mb-4">आत्मविश्वास का निर्माण</h3><p>आत्मविश्वास एक यात्रा है, मंजिल नहीं। अपनी छोटी जीत का जश्न मनाकर शुरुआत करें, चाहे वे कितनी भी छोटी क्यों न लगें। सकारात्मक आत्म-चर्चा का अभ्यास करें और खुद को उन लोगों के साथ घेरें जो आपको ऊपर उठाते हैं। याद रखें, आपके पास अद्वितीय ताकतें हैं जो किसी और के पास नहीं हैं।</p><p class="mt-4">नई चुनौतियों का सामना करना, भले ही वे डरावनी हों, यह साबित करने का एक शानदार तरीका है कि आप कितने सक्षम हैं। खुद पर विश्वास करो!</p>` },
                    ],
                    moods: {
                        'खुशी': '😊', 'शांत': '😌', 'दुखी': '😔', 'चिंतित': '😬', 'थका हुआ': '😴'
                    },
                    loadingMessage: 'मैं सोच रहा हूँ... कृपया कुछ देर प्रतीक्षा करें...',
                    playlistButtonText: 'मूड प्लेलिस्ट प्राप्त करें 🎶',
                    playlistLoading: 'आपकी मूड प्लेलिस्ट उत्पन्न कर रहा है...',
                },
                pa: {
                    navHome: 'ਹੋਮ',
                    navChat: 'AI ਚੈਟ',
                    navResources: 'ਸੰਸਾਧਨ',
                    navInsights: 'ਸੂਝ',
                    navCommunity: 'ਕਮਿਊਨਿਟੀ',
                    heroTitle: 'ਭਾਰਤੀ ਨੌਜਵਾਨਾਂ ਲਈ ਮਾਨਸਿਕ ਤੰਦਰੁਸਤੀ ਨੂੰ ਉਤਸ਼ਾਹਿਤ ਕਰਨਾ',
                    heroSubtitle: 'ਗੱਲ ਕਰਨ, ਸਿੱਖਣ, ਅਤੇ ਵਧਣ ਲਈ ਇੱਕ ਸੁਰੱਖਿਅਤ ਜਗ੍ਹਾ।',
                    chatTitle: 'AI ਚੈਟ ਸਪੋਰਟ',
                    chatPlaceholder: 'ਆਪਣਾ ਸੁਨੇਹਾ ਟਾਈਪ ਕਰੋ...',
                    sendButton: 'ਭੇਜੋ',
                    resourcesTitle: 'ਸੰਸਾਧਨ ਹੱਬ',
                    resourcesSubtitle: 'ਤੁਹਾਡੀ ਯਾਤਰਾ ਵਿੱਚ ਮਦਦ ਕਰਨ ਲਈ ਲੇਖ, ਵੀਡੀਓ ਅਤੇ ਇਨਫੋਗ੍ਰਾਫਿਕਸ।',
                    insightsTitle: 'ਵਿਅਕਤੀਗਤ ਸੂਝ',
                    insightsSubtitle: 'ਆਪਣਾ ਮੂਡ ਲੌਗ ਕਰੋ ਅਤੇ ਆਪਣੀ ਭਾਵਨਾਤਮਕ ਸਥਿਤੀ ਨੂੰ ਟਰੈਕ ਕਰੋ।',
                    communityTitle: 'ਕਮਿਊਨਿਟੀ',
                    communityText: 'ਇੱਕ ਸਹਾਇਕ ਭਾਈਚਾਰੇ ਵਿੱਚ ਸ਼ਾਮਲ ਹੋਵੋ। ਇਸ ਭਾਗ ਵਿੱਚ ਅਗਿਆਤ ਚਰਚਾ ਫੋਰਮ ਜਾਂ ਸਮੂਹ ਸੈਸ਼ਨ ਸ਼ਾਮਲ ਹੋਣਗੇ।',
                    exploreCommunity: 'ਸਾਡੀ ਡਿਸਕੋਰਡ ਕਮਿਊਨਿਟੀ ਵਿੱਚ ਸ਼ਾਮਲ ਹੋਵੋ',
                    footer: '© 2024 ਮਾਨਸਿਕ ਤੰਦਰੁਸਤੀ ਐਪ। ਸਾਰੇ ਹੱਕ ਰਾਖਵੇਂ ਹਨ।',
                    resources: [
                        { type: 'article', title: 'ਪ੍ਰੀਖਿਆ ਦੇ ਤਣਾਅ ਦਾ ਪ੍ਰਬੰਧਨ', image: 'https://placehold.co/300x200/bde0fe/000000?text=Article', tags: ['ਚਿੰਤਾ', 'ਵਿਦਿਆਰਥੀ'], content: `<h3 class="text-2xl font-bold mb-4">ਪ੍ਰੀਖਿਆ ਦੇ ਤਣਾਅ ਦਾ ਪ੍ਰਬੰਧਨ</h3><p>ਪ੍ਰੀਖਿਆ ਦਾ ਸੀਜ਼ਨ ਔਖਾ ਹੋ ਸਕਦਾ ਹੈ, ਪਰ ਯਾਦ ਰੱਖੋ ਕਿ ਤੁਸੀਂ ਇਕੱਲੇ ਨਹੀਂ ਹੋ। ਤਣਾਅ ਦਾ ਪ੍ਰਬੰਧਨ ਕਰਨ ਅਤੇ ਧਿਆਨ ਕੇਂਦਰਿਤ ਰਹਿਣ ਵਿੱਚ ਤੁਹਾਡੀ ਮਦਦ ਕਰਨ ਲਈ ਇੱਥੇ ਕੁਝ ਸੁਝਾਅ ਹਨ: ਇੱਕ ਅਧਿਐਨ ਦਾ ਸਮਾਂ-ਸਾਰਣੀ ਬਣਾਓ, ਨਿਯਮਤ ਬ੍ਰੇਕ ਲਓ, ਅਤੇ ਚੰਗੀ ਨੀਂਦ ਲਓ। ਹਾਈਡਰੇਟਿਡ ਰਹਿਣਾ ਅਤੇ ਸਿਹਤਮੰਦ ਭੋਜਨ ਖਾਣਾ ਵੀ ਬਹੁਤ ਫਰਕ ਪਾਉਂਦਾ ਹੈ।</p><p class="mt-4">ਸਭ ਤੋਂ ਮਹੱਤਵਪੂਰਨ, ਜੇਕਰ ਤੁਸੀਂ ਬਹੁਤ ਜ਼ਿਆਦਾ ਮਹਿਸੂਸ ਕਰਦੇ ਹੋ ਤਾਂ ਕਿਸੇ ਭਰੋਸੇਯੋਗ ਵਿਅਕਤੀ ਨਾਲ ਗੱਲ ਕਰੋ। ਤੁਹਾਡੀ ਤੰਦਰੁਸਤੀ ਕਿਸੇ ਵੀ ਗ੍ਰੇਡ ਨਾਲੋਂ ਜ਼ਿਆਦਾ ਮਹੱਤਵਪੂਰਨ ਹੈ।</p>` },
                        { type: 'video', title: 'ਨੀਂਦ ਦੀ ਮਹੱਤਤਾ', image: 'https://placehold.co/300x200/c4d7b7/000000?text=Video', tags: ['ਤੰਦਰੁਸਤੀ', 'ਆਦਤਾਂ'], content: `<div class="aspect-w-16 aspect-h-9"><iframe class="w-full aspect-video rounded-xl" src="https://www.youtube.com/embed/a-a2Wd700r0?si=63y2zG9Kj0B_o-3-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p class="mt-4">ਇੱਕ ਚੰਗੀ ਰਾਤ ਦੀ ਨੀਂਦ ਤੁਹਾਡੀ ਮਾਨਸਿਕ ਸਿਹਤ ਲਈ ਸਭ ਤੋਂ ਸ਼ਕਤੀਸ਼ਾਲੀ ਸਾਧਨਾਂ ਵਿੱਚੋਂ ਇੱਕ ਹੈ। ਇਹ ਵੀਡੀਓ ਦੱਸਦਾ ਹੈ ਕਿ ਨੀਂਦ ਤੁਹਾਡੇ ਦਿਮਾਗ ਅਤੇ ਮੂਡ ਨੂੰ ਕਿਵੇਂ ਪ੍ਰਭਾਵਿਤ ਕਰਦੀ ਹੈ, ਅਤੇ ਤੁਹਾਨੂੰ ਇਸ ਨੂੰ ਤਰਜੀਹ ਕਿਉਂ ਦੇਣੀ ਚਾਹੀਦੀ ਹੈ।</p>` },
                        { type: 'infographic', title: 'ਸ਼ੁਰੂਆਤ ਕਰਨ ਵਾਲਿਆਂ ਲਈ ਮਾਈਂਡਫੁਲਨੈੱਸ', image: 'https://placehold.co/300x200/cbb2d4/000000?text=Infographic', tags: ['ਧਿਆਨ', 'ਤਣਾਅ'], content: `<div class="text-center"><img src="https://placehold.co/800x600/cbb2d4/000000?text=Infographic+on+Mindfulness" alt="Mindfulness Infographic" class="rounded-xl w-full max-w-xl mx-auto mb-4" /><p class="text-gray-600">ਆਪਣੀ ਰੋਜ਼ਾਨਾ ਰੁਟੀਨ ਵਿੱਚ ਮਾਈਂਡਫੁਲਨੈੱਸ ਲਿਆਉਣ ਲਈ ਤੇਜ਼ ਅਤੇ ਵਿਹਾਰਕ ਕਦਮ ਖੋਜੋ। ਦਿਨ ਵਿੱਚ ਸਿਰਫ਼ ਕੁਝ ਮਿੰਟ ਤੁਹਾਨੂੰ ਆਪਣੇ ਮਨ ਨੂੰ ਸ਼ਾਂਤ ਕਰਨ, ਤਣਾਅ ਘਟਾਉਣ ਅਤੇ ਅੰਦਰੂਨੀ ਸ਼ਾਂਤੀ ਦੀ ਭਾਵਨਾ ਲੱਭਣ ਵਿੱਚ ਮਦਦ ਕਰ ਸਕਦੇ ਹਨ। ਇਹ ਜੀਵਨ ਦੀ ਭੱਜ-ਦੌੜ ਦੇ ਵਿਚਕਾਰ ਕੇਂਦਰਿਤ ਰਹਿਣ ਦਾ ਇੱਕ ਸਧਾਰਨ ਤਰੀਕਾ ਹੈ।</p></div>` },
                        { type: 'article', title: 'ਸਵੈ-ਵਿਸ਼ਵਾਸ ਦਾ ਨਿਰਮਾਣ', image: 'https://placehold.co/300x200/ffe6b3/000000?text=Article', tags: ['ਵਿਕਾਸ', 'ਆਤਮ-ਸਨਮਾਨ'], content: `<h3 class="text-2xl font-bold mb-4">ਸਵੈ-ਵਿਸ਼ਵਾਸ ਦਾ ਨਿਰਮਾਣ</h3><p>ਸਵੈ-ਵਿਸ਼ਵਾਸ ਇੱਕ ਯਾਤਰਾ ਹੈ, ਮੰਜ਼ਿਲ ਨਹੀਂ। ਆਪਣੀਆਂ ਛੋਟੀਆਂ ਜਿੱਤਾਂ ਦਾ ਜਸ਼ਨ ਮਨਾ ਕੇ ਸ਼ੁਰੂਆਤ ਕਰੋ, ਭਾਵੇਂ ਉਹ ਕਿੰਨੀਆਂ ਵੀ ਛੋਟੀਆਂ ਕਿਉਂ ਨਾ ਲੱਗਣ। ਸਕਾਰਾਤਮਕ ਸਵੈ-ਗੱਲਬਾਤ ਦਾ ਅਭਿਆਸ ਕਰੋ ਅਤੇ ਆਪਣੇ ਆਪ ਨੂੰ ਉਨ੍ਹਾਂ ਲੋਕਾਂ ਨਾਲ ਘੇਰੋ ਜੋ ਤੁਹਾਨੂੰ ਉੱਚਾ ਚੁੱਕਦੇ ਹਨ। ਯਾਦ ਰੱਖੋ, ਤੁਹਾਡੇ ਕੋਲ ਵਿਲੱਖਣ ਸ਼ਕਤੀਆਂ ਹਨ ਜੋ ਕਿਸੇ ਹੋਰ ਕੋਲ ਨਹੀਂ ਹਨ।</p><p class="mt-4">ਨਵੀਆਂ ਚੁਣੌਤੀਆਂ ਦਾ ਸਾਹਮਣਾ ਕਰਨਾ, ਭਾਵੇਂ ਉਹ ਡਰਾਉਣੀਆਂ ਹੋਣ, ਇਹ ਸਾਬਤ ਕਰਨ ਦਾ ਇੱਕ ਵਧੀਆ ਤਰੀਕਾ ਹੈ ਕਿ ਤੁਸੀਂ ਕਿੰਨੇ ਸਮਰੱਥ ਹੋ। ਆਪਣੇ ਆਪ ਵਿੱਚ ਵਿਸ਼ਵਾਸ ਕਰੋ!</p>` },
                    ],
                    moods: {
                        'ਖੁਸ਼ੀ': '😊', 'ਸ਼ਾਂਤ': '😌', 'ਉਦਾਸ': '😔', 'ਚਿੰਤਤ': '😬', 'ਥੱਕਿਆ ਹੋਇਆ': '😴'
                    },
                    loadingMessage: 'ਮੈਂ ਸੋਚ ਰਿਹਾ ਹਾਂ... ਕਿਰਪਾ ਕਰਕੇ ਥੋੜ੍ਹਾ ਇੰਤਜ਼ਾਰ ਕਰੋ...',
                    playlistButtonText: 'ਮੂਡ ਪਲੇਲਿਸਟ ਪ੍ਰਾਪਤ ਕਰੋ 🎶',
                    playlistLoading: 'ਤੁਹਾਡੀ ਮੂਡ ਪਲੇਲਿਸਟ ਤਿਆਰ ਕਰ ਰਿਹਾ ਹੈ...',
                },
                ta: {
                    navHome: 'முகப்பு',
                    navChat: 'AI அரட்டை',
                    navResources: 'வளங்கள்',
                    navInsights: 'நுண்ணறிவுகள்',
                    navCommunity: 'சமூகம்',
                    heroTitle: 'இந்திய இளைஞர்களுக்கான மனநல ஆரோக்கியத்தை மேம்படுத்துதல்',
                    heroSubtitle: 'பேசுவதற்கும், கற்பதற்கும், வளர்வதற்கும் ஒரு பாதுகாப்பான இடம்.',
                    chatTitle: 'AI அரட்டை ஆதரவு',
                    chatPlaceholder: 'உங்கள் செய்தியை உள்ளிடவும்...',
                    sendButton: 'அனுப்பு',
                    resourcesTitle: 'வள மையம்',
                    resourcesSubtitle: 'உங்கள் பயணத்தில் உங்களுக்கு உதவ கட்டுரைகள், வீடியோக்கள் மற்றும் இன்ஃபோகிராபிக்ஸ்.',
                    insightsTitle: 'தனிப்பயனாக்கப்பட்ட நுண்ணறிவுகள்',
                    insightsSubtitle: 'உங்கள் மனநிலையை பதிவு செய்து, உங்கள் உணர்ச்சி நிலையை கண்காணிக்கவும்.',
                    communityTitle: 'சமூகம்',
                    communityText: 'ஒரு ஆதரவான சமூகத்தில் சேரவும். இந்த பகுதியில் அநாமதேய விவாத மன்றங்கள் அல்லது குழு அமர்வுகள் இருக்கும்.',
                    exploreCommunity: 'எங்கள் டிஸ்கார்ட் சமூகத்தில் சேரவும்',
                    footer: '© 2024 மனநல ஆரோக்கியம் செயலி. அனைத்து உரிமைகளும் பாதுகாக்கப்பட்டவை.',
                    resources: [
                        { type: 'article', title: 'தேர்வு அழுத்தத்தை நிர்வகித்தல்', image: 'https://placehold.co/300x200/bde0fe/000000?text=Article', tags: ['பதட்டம்', 'மாணவர்கள்'], content: `<h3 class="text-2xl font-bold mb-4">தேர்வு அழுத்தத்தை நிர்வகித்தல்</h3><p>தேர்வு காலம் கடினமாக இருக்கலாம், ஆனால் நீங்கள் தனியாக இல்லை என்பதை நினைவில் கொள்ளுங்கள். மன அழுத்தத்தை நிர்வகிக்கவும், கவனம் செலுத்தி இருக்கவும் உங்களுக்கு உதவும் சில குறிப்புகள் இங்கே: ஒரு படிப்பு அட்டவணையை திட்டமிடுங்கள், வழக்கமான இடைவெளிகளை எடுத்துக்கொள்ளுங்கள், மற்றும் போதுமான தூக்கம் பெறுங்கள். நீர்ச்சத்துடனும் ஆரோக்கியமான உணவை உண்பதும் ஒரு பெரிய மாற்றத்தை ஏற்படுத்துகிறது。</p><p class="mt-4">மிக முக்கியமாக, நீங்கள் அதிக அழுத்தமாக உணர்ந்தால் நீங்கள் நம்பும் ஒருவரிடம் பேசுங்கள். உங்கள் நல்வாழ்வு எந்த மதிப்பையும் விட முக்கியமானது。</p>` },
                        { type: 'video', title: 'தூக்கத்தின் முக்கியத்துவம்', image: 'https://placehold.co/300x200/c4d7b7/000000?text=Video', tags: ['நல்வாழ்வு', 'பழக்கங்கள்'], content: `<div class="aspect-w-16 aspect-h-9"><iframe class="w-full aspect-video rounded-xl" src="https://www.youtube.com/embed/a-a2Wd700r0?si=63y2zG9Kj0B_o-3-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p class="mt-4">நல்ல இரவுத் தூக்கம் உங்கள் மன ஆரோக்கியத்திற்கான மிகவும் சக்திவாய்ந்த கருவிகளில் ஒன்றாகும். தூக்கம் உங்கள் மூளை மற்றும் மனநிலையை எவ்வாறு பாதிக்கிறது, மற்றும் ஏன் நீங்கள் அதற்கு முன்னுரிமை கொடுக்க வேண்டும் என்பதை இந்த வீடியோ விளக்குகிறது。</p>` },
                        { type: 'infographic', title: 'தொடக்கக்காரர்களுக்கான மனசாட்சி', image: 'https://placehold.co/300x200/cbb2d4/000000?text=Infographic', tags: ['தியானம்', 'அழுத்தம்'], content: `<div class="text-center"><img src="https://placehold.co/800x600/cbb2d4/000000?text=Infographic+on+Mindfulness" alt="Mindfulness Infographic" class="rounded-xl w-full max-w-xl mx-auto mb-4" /><p class="text-gray-600">உங்கள் தினசரி வழக்கத்தில் மனசாட்சியை கொண்டு வர விரைவான மற்றும் நடைமுறை படிகளை கண்டறியுங்கள். ஒரு நாளைக்கு சில நிமிடங்களே உங்கள் மனதை அமைதிப்படுத்தவும், மன அழுத்தத்தை குறைக்கவும், மற்றும் ஒரு உள் அமைதி உணர்வை கண்டறியவும் உதவும். வாழ்க்கையின் பரபரப்புக்கு மத்தியில் மையமாக இருக்க இது ஒரு எளிய வழி.</p></div>` },
                        { type: 'article', title: 'சுய நம்பிக்கையை உருவாக்குதல்', image: 'https://placehold.co/300x200/ffe6b3/000000?text=Article', tags: ['வளர்ச்சி', 'சுய மரியாதை'], content: `<h3 class="text-2xl font-bold mb-4">சுய நம்பிக்கையை உருவாக்குதல்</h3><p>சுய நம்பிக்கை என்பது ஒரு பயணம், ஒரு சேருமிடம் அல்ல. உங்கள் சிறிய வெற்றிகளை கொண்டாடுவதன் மூலம் தொடங்குங்கள், அவை எவ்வளவு சிறியதாக தோன்றினாலும் பரவாயில்லை. நேர்மறை சுய பேச்சைப் பயிற்சி செய்யுங்கள் மற்றும் உங்களை உயர்த்திப்பிடிக்கும் மக்களுடன் உங்களை சுற்றிக் கொள்ளுங்கள். நினைவில் கொள்ளுங்கள், உங்களுக்கு மற்றவர்களுக்கு இல்லாத தனித்துவமான பலங்கள் உள்ளன।</p><p class="mt-4">புதிய சவால்களை ஏற்றுக்கொள்வது, அவை பயமாக இருந்தாலும், நீங்கள் எவ்வளவு திறமையானவர் என்பதை உங்களுக்கு நிரூபிக்க ஒரு சிறந்த வழியாகும். உங்களை நம்புங்கள்!</p>` },
                    ],
                    moods: {
                        'மகிழ்ச்சி': '😊', 'அமைதி': '😌', 'சோகம்': '😔', 'பதட்டம்': '😬', 'சோர்வு': '😴'
                    },
                    loadingMessage: 'நான் யோசித்துக்கொண்டிருக்கிறேன்... தயவுசெய்து ஒரு கணம் காத்திருங்கள்...',
                    playlistButtonText: 'மूड پلےلست పొందండి 🎶',
                    playlistLoading: 'உங்கள் மூட் ಪ್ಲೇಲಿಸ್ಟ்டை உருவாக்குகிறது...',
                },
                bn: {
                    navHome: 'হোম',
                    navChat: 'এআই চ্যাট',
                    navResources: 'রিসোর্স',
                    navInsights: 'অন্তর্দৃষ্টি',
                    navCommunity: 'কমিউনিটি',
                    heroTitle: 'ভারতীয় তরুণদের জন্য মানসিক সুস্থতার প্রচার',
                    heroSubtitle: 'কথা বলতে, শিখতে এবং বেড়ে ওঠার জন্য একটি নিরাপদ স্থান।',
                    chatTitle: 'এআই চ্যাট সাপোর্ট',
                    chatPlaceholder: 'আপনার বার্তা টাইপ করুন...',
                    sendButton: 'পাঠান',
                    resourcesTitle: 'রিসোর্স হাব',
                    resourcesSubtitle: 'আপনার যাত্রায় আপনাকে সাহায্য করার জন্য প্রবন্ধ, ভিডিও এবং ইনফোগ্রাফিকস।',
                    insightsTitle: 'ব্যক্তিগতকৃত অন্তর্দৃষ্টি',
                    insightsSubtitle: 'আপনার মেজাজ লগ করুন এবং আপনার মানসিক অবস্থা ট্র্যাক করুন।',
                    communityTitle: 'কমিউনিটি',
                    communityText: 'একটি সহায়ক সম্প্রদায়ে যোগ দিন। এই বিভাগে বেনামী আলোচনা ফোরাম বা গ্রুপ সেশন থাকবে।',
                    exploreCommunity: 'আমাদের ডিসকর্ড কমিউনিটিতে যোগ দিন',
                    footer: '© 2024 মানসিক সুস্থতা অ্যাপ। সমস্ত অধিকার সংরক্ষিত।',
                    resources: [
                        { type: 'article', title: 'পরীক্ষার চাপ সামলানো', image: 'https://placehold.co/300x200/bde0fe/000000?text=Article', tags: ['উদ্বেগ', 'শিক্ষার্থী'], content: `<h3 class="text-2xl font-bold mb-4">পরীক্ষার চাপ সামলানো</h3><p>পরীক্ষার মৌসুম কঠিন হতে পারে, কিন্তু মনে রাখবেন আপনি একা নন। চাপ সামলানোর এবং মনোযোগ ধরে রাখার জন্য এখানে কিছু টিপস দেওয়া হল: একটি অধ্যয়নের সময়সূচী তৈরি করুন, নিয়মিত বিরতি নিন এবং পর্যাপ্ত ঘুম পান। হাইড্রেটেড থাকা এবং স্বাস্থ্যকর খাবার খাওয়াও অনেক পার্থক্য করে।</p><p class="mt-4">সবচেয়ে গুরুত্বপূর্ণ, যদি আপনি অতিরিক্ত চাপ অনুভব করেন তবে আপনার বিশ্বাসযোগ্য কারো সাথে কথা বলুন। আপনার সুস্থতা যেকোনো গ্রেডের চেয়ে বেশি গুরুত্বপূর্ণ।</p>` },
                        { type: 'video', title: 'ঘুমের গুরুত্ব', image: 'https://placehold.co/300x200/c4d7b7/000000?text=Video', tags: ['সুস্থতা', 'অভ্যাস'], content: `<div class="aspect-w-16 aspect-h-9"><iframe class="w-full aspect-video rounded-xl" src="https://www.youtube.com/embed/a-a2Wd700r0?si=63y2zG9Kj0B_o-3-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p class="mt-4">একটি ভাল রাতের ঘুম আপনার মানসিক স্বাস্থ্যের জন্য সবচেয়ে শক্তিশালী সরঞ্জামগুলির মধ্যে একটি। এই ভিডিওটি ব্যাখ্যা করে যে ঘুম আপনার মস্তিষ্ক এবং মেজাজকে কীভাবে প্রভাবিত করে এবং কেন আপনার এটিকে অগ্রাধিকার দেওয়া উচিত।</p>` },
                        { type: 'infographic', title: 'নতুনদের জন্য মাইন্ডফুলনেস', image: 'https://placehold.co/300x200/cbb2d4/000000?text=Infographic', tags: ['ধ্যান', 'চাপ'], content: `<div class="text-center"><img src="https://placehold.co/800x600/cbb2d4/000000?text=Infographic+on+Mindfulness" alt="Mindfulness Infographic" class="rounded-xl w-full max-w-xl mx-auto mb-4" /><p class="text-gray-600">আপনার দৈনন্দিন রুটিনে মাইন্ডফুলনেস আনার জন্য দ্রুত এবং বাস্তবসম্মত পদক্ষেপগুলি আবিষ্কার করুন। দিনে মাত্র কয়েক মিনিট আপনার মনকে শান্ত করতে, চাপ কমাতে এবং একটি অভ্যন্তরীণ শান্তির অনুভূতি খুঁজে পেতে সাহায্য করতে পারে। এটি জীবনের তাড়াহুড়োর মধ্যে কেন্দ্রবিন্দুতে থাকার একটি সহজ উপায়।</p></div>` },
                        { type: 'article', title: 'आत्मविश्वास তৈরি করা', image: 'https://placehold.co/300x200/ffe6b3/000000?text=Article', tags: ['বৃদ্ধি', 'आत्मसम्मान'], content: `<h3 class="text-2xl font-bold mb-4">आत्मविश्वास তৈরি করা</h3><p>आत्मविश्वास একটি যাত্রা, গंतव्य নয়। আপনার ছোট ছোট জয় উদযাপন করে শুরু করুন, সেগুলি যত ছোটই মনে হোক না কেন। ইতিবাচক স্ব-কথোপকথন অনুশীলন করুন এবং নিজেকে এমন লোকেদের সাথে ঘিরে রাখুন যারা আপনাকে উৎসাহিত করে। মনে রাখবেন, আপনার এমন অনন্য শক্তি রয়েছে যা অন্য কারো নেই।</p><p class="mt-4">নতুন চ্যালেঞ্জ গ্রহণ করা, এমনকি যদি সেগুলি ভীতিকর হয়, আপনি কতটা সক্ষম তা নিজেকে প্রমাণ করার একটি দুর্দান্ত উপায়। নিজের উপর বিশ্বাস রাখুন!</p>` },
                    ],
                    moods: {
                        'আনন্দ': '😊', 'শান্ত': '😌', 'দুঃখ': '😔', 'উদ্বিগ্ন': '😬', 'ক্লান্ত': '😴'
                    },
                    loadingMessage: 'আমি ভাবছি... দয়া করে এক মুহূর্ত অপেক্ষা করুন...',
                    playlistButtonText: 'মूड প্লেলিস্ট পান 🎶',
                    playlistLoading: 'আপনার मूड প্লেলিস্ট তৈরি হচ্ছে...',
                }
            };

            let currentLanguage = elements.languageSelect.value;
            let currentMood = null;
            
            const GEMINI_API_KEY = "AIzaSyB1AX7Eu4fLUSUM86v2-2_AGDr5cwFe2HM";
            const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${GEMINI_API_KEY}`;
            
            // Function to show a temporary message toast
            const showToast = (message) => {
                const toast = document.createElement('div');
                toast.textContent = message;
                toast.className = "toast fixed bottom-8 right-8 bg-black text-white px-6 py-3 rounded-full shadow-lg transform transition-all duration-300 ease-in-out z-50";
                elements.toastContainer.appendChild(toast);
                setTimeout(() => {
                    elements.toastContainer.removeChild(toast);
                }, 3000);
            };

            const showResourceView = (resource) => {
                elements.mainView.classList.add('hidden');
                elements.resourceView.classList.remove('hidden');
                elements.resourceContent.innerHTML = resource.content;
            };

            const hideResourceView = () => {
                elements.mainView.classList.remove('hidden');
                elements.resourceView.classList.add('hidden');
                elements.resourceContent.innerHTML = '';
            };

            const scrollToSection = (sectionId) => {
                const section = document.getElementById(sectionId);
                if (section) {
                    section.scrollIntoView({ behavior: 'smooth' });
                }
            };

            const updateContent = (lang) => {
                const langContent = content[lang];
                elements.navHome.textContent = langContent.navHome;
                elements.navChat.textContent = langContent.navChat;
                elements.navResources.textContent = langContent.navResources;
                elements.navInsights.textContent = langContent.navInsights;
                elements.navCommunity.textContent = langContent.navCommunity;
                elements.heroTitle.textContent = langContent.heroTitle;
                elements.heroSubtitle.textContent = langContent.heroSubtitle;
                elements.chatInput.placeholder = langContent.chatPlaceholder;
                elements.sendButton.textContent = langContent.sendButton;
                elements.resourcesTitle.textContent = langContent.resourcesTitle;
                elements.resourcesSubtitle.textContent = langContent.resourcesSubtitle;
                elements.insightsTitle.textContent = langContent.insightsTitle;
                elements.insightsSubtitle.textContent = langContent.insightsSubtitle;
                elements.communityTitle.textContent = langContent.communityTitle;
                elements.communityText.textContent = langContent.communityText;
                elements.exploreCommunityLink.textContent = langContent.exploreCommunity;
                elements.footerText.textContent = langContent.footer;
                
                // Update resources
                elements.resourceCardsContainer.innerHTML = '';
                langContent.resources.forEach(resource => {
                    const card = document.createElement('div');
                    card.className = "bg-gray-50 rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition-shadow cursor-pointer";
                    card.innerHTML = `
                        <img src="${resource.image}" alt="${resource.title}" class="w-full h-40 object-cover" />
                        <div class="p-4">
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">${resource.title}</h3>
                            <div class="flex flex-wrap gap-2">
                                ${resource.tags.map(tag => `<span class="text-xs px-2 py-1 bg-gray-200 text-gray-600 rounded-full">${tag}</span>`).join('')}
                            </div>
                        </div>
                    `;
                    card.addEventListener('click', () => showResourceView(resource));
                    elements.resourceCardsContainer.appendChild(card);
                });

                // Update mood buttons
                elements.moodButtonsContainer.innerHTML = '';
                Object.entries(langContent.moods).forEach(([moodOption, emoji]) => {
                    const button = document.createElement('button');
                    button.className = `p-4 rounded-full w-24 h-24 flex flex-col items-center justify-center transition-all transform hover:scale-110 shadow-md ${currentMood === moodOption ? 'bg-blue-400 text-white' : 'bg-gray-100 text-gray-600'}`;
                    button.onclick = () => {
                        currentMood = moodOption;
                        updateContent(currentLanguage); // Re-render to update selected mood state
                        elements.playlistContainer.style.display = 'block';
                        elements.playlistResults.innerHTML = '';
                        showToast(`Mood logged as ${moodOption}`);
                    };
                    button.innerHTML = `
                        <span class="text-3xl">${emoji}</span>
                        <span class="mt-2 text-xs font-semibold">${moodOption}</span>
                    `;
                    elements.moodButtonsContainer.appendChild(button);
                });
            };

            const addChatMessage = (text, sender) => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `flex ${sender === 'user' ? 'justify-end' : 'justify-start'}`;
                messageDiv.innerHTML = `
                    <div class="max-w-[75%] p-4 rounded-xl ${sender === 'user' ? 'bg-blue-500 text-white rounded-br-none' : 'bg-gray-100 text-gray-800 rounded-bl-none'} shadow-md">
                        ${text}
                    </div>
                `;
                elements.chatMessages.appendChild(messageDiv);
                elements.chatMessages.scrollTop = elements.chatMessages.scrollHeight; // Scroll to bottom
                return messageDiv;
            };

            const sendMessage = async () => {
                const input = elements.chatInput.value.trim();
                if (input === '') return;

                const userMessageDiv = addChatMessage(input, 'user');
                elements.chatInput.value = '';

                // Show loading message
                const loadingMessageDiv = addChatMessage(content[currentLanguage].loadingMessage, 'ai');

                const systemPrompt = "You are a supportive, understanding, and culturally sensitive mental wellness assistant for Indian youth. Your tone should be gentle and empathetic. Provide advice and guidance that is practical and relatable to their daily lives, which may include family, academic, or social pressures. Do not give medical advice. Keep responses concise and encouraging.";

                const payload = {
                    contents: [{ parts: [{ text: input }] }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    }
                };

                try {
                    const response = await fetch(GEMINI_API_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    const text = result?.candidates?.[0]?.content?.parts?.[0]?.text || "I'm sorry, I couldn't generate a response at this time. Please try again.";
                    
                    // Replace loading message with actual response
                    if (loadingMessageDiv && elements.chatMessages.contains(loadingMessageDiv)) {
                        elements.chatMessages.removeChild(loadingMessageDiv);
                    }
                    addChatMessage(text, 'ai');

                } catch (error) {
                    console.error("Failed to send message:", error);
                    if (loadingMessageDiv && elements.chatMessages.contains(loadingMessageDiv)) {
                        elements.chatMessages.removeChild(loadingMessageDiv);
                    }
                    addChatMessage("I'm sorry, I'm having trouble connecting right now. Please try again later.", 'ai');
                }
            };

            const getMoodPlaylist = () => {
                if (!currentMood) {
                    showToast("Please log a mood first.");
                    return;
                }
                
                const playlist = [
                    { song: "Badtameez Dil", artist: "Benny Dayal, Shefali Alvares" },
                    { song: "Gallan Goodiyaan", artist: "Farhan Akhtar, Sukhwinder Singh, Shankar Mahadevan, Yashita Sharma, Manish Kumar Tipu" },
                    { song: "Khalasi", artist: "Aditya Gadhvi, Achint" },
                    { song: "Makhna", artist: "Tanishk Bagchi, Yasser Desai, Asees Kaur" },
                    { song: "Pasoori", artist: "Ali Sethi, Shae Gill" },
                    { song: "Badri Ki Dulhania", artist: "Dev Negi, Neha Kakkar, Monali Thakur, Ikka" }
                ];

                const playlistHTML = `
                    <h4 class="text-xl font-semibold mb-4 text-blue-800">Your ${currentMood} Playlist</h4>
                    <ul class="space-y-3 max-w-sm mx-auto mt-6">
                        ${playlist.map(item => `
                            <li class="p-3 bg-gray-100 rounded-lg text-left shadow-sm">
                                <a href="https://www.youtube.com/results?search_query=${encodeURIComponent(`${item.song} by ${item.artist}`)}" target="_blank" rel="noopener noreferrer" class="font-medium text-gray-800 hover:text-blue-600 transition-colors block">
                                    ${item.song}
                                </a>
                                <span class="text-gray-600 text-sm block mt-1">by ${item.artist}</span>
                            </li>
                        `).join('')}
                    </ul>
                `;
                elements.playlistResults.innerHTML = playlistHTML;
            };


            // Event Listeners
            elements.languageSelect.addEventListener('change', (e) => {
                currentLanguage = e.target.value;
                updateContent(currentLanguage);
                showToast(`Language changed to ${e.target.value === 'en' ? 'English' : (e.target.value === 'hi' ? 'हिंदी' : (e.target.value === 'pa' ? 'ਪੰਜਾਬੀ' : (e.target.value === 'ta' ? 'தமிழ்' : 'বাংলা')))}`);
            });

            elements.startConversationButton.addEventListener('click', () => {
                scrollToSection('chat-section');
            });
            
            elements.navHome.addEventListener('click', () => {
                scrollToSection('main-view');
            });

            elements.navChat.addEventListener('click', () => {
                scrollToSection('chat-section');
            });

            elements.navResources.addEventListener('click', () => {
                scrollToSection('resource-cards');
            });

            elements.navInsights.addEventListener('click', () => {
                scrollToSection('insights-title');
            });

            elements.navCommunity.addEventListener('click', () => {
                scrollToSection('community-title');
            });

            elements.sendButton.addEventListener('click', sendMessage);
            elements.chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            elements.moodButtonsContainer.addEventListener('click', (e) => {
                 if (e.target.tagName === 'BUTTON' || e.target.closest('button')) {
                    const button = e.target.closest('button');
                    const moodOption = button.querySelector('span:last-child').textContent;
                    currentMood = moodOption;
                    updateContent(currentLanguage);
                    elements.playlistContainer.style.display = 'block';
                    elements.playlistResults.innerHTML = '';
                    getMoodPlaylist();
                }
            });

            elements.backButton.addEventListener('click', hideResourceView);

            // Initial content load
            updateContent(currentLanguage);
        });
    </script>
</body>
</html>
